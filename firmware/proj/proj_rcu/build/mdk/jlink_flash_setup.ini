FUNC void Setup (void)
{
	unsigned reg;
	
	// QSPI pin mux
	 _WDWORD(0x44126184, 0xc0521512);
	 // QSPI pin drive strength
	 _WDWORD(0x4412618C, 0x7F);
	 // QSPI 3a pin input enable
	_WDWORD(0x44126190, 0x3F3F3F);

	// XIP 
	// Buad rate
	_WDWORD((0x44102000 + 0x14), 2);
	_WDWORD(0x44102000, 0x3f0200);
	_WDWORD((0x44102000 + 0xF4), 0x4218);
	_WDWORD((0x44102000 + 0x1C), 0);
	_WDWORD((0x44102000 + 0x2C), 0);
	_WDWORD((0x44102000 + 0x2C), 0x10);
	_WDWORD((0x44102000 + 0x04), 0x1);
	_WDWORD((0x44102000 + 0x10), 0x1);
	_WDWORD((0x44102000 + 0x08), 0x1);

	_WDWORD(0x44126294, 0);

	_WDWORD(0x44009018, 0x10);
	while(1) {
		if (_RDWORD(0x44009000) & 0x1)
			break;
	}
	_WDWORD(0x44107020, 0x10869);
	_WDWORD(0x44107040, 0x1);
	_WDWORD(0x44107030, 0x3B);
	_sleep_(5);  
	_WDWORD(0x44009018, 0x1);
	_sleep_(5);  

	SP = _RDWORD(0x301000);           // Setup Stack Pointer
    	PC = _RDWORD(0x301004);           // Setup Program Counter

    _WDWORD(0xE000ED08, 0x00301000);    // Setup Vector Table Offset Register
	
}

Setup();

LOAD .\Objects\proj_rcu.axf INCREMENTAL    

